<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>index.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

	<style>
		#unlogined, #logined {
			display: none;
		}
	</style>

  </head>
  
  <body>
    <h1>对易的主页</h1>
    <div id="unlogined">
    	欢迎光临！游客！
    	<a href="login.html">登陆</a>
    	<a href="regist.html">注册</a>
    </div>
    <div id="logined">
    	欢迎回来！
    	<a href="logout.html">注销</a>
    </div>
	<script type="text/javascript">
		var xhr = new XMLHttpRequest();
		xhr.open("GET", "servlet/CheckSessionServlet");
		xhr.send();
		xhr.onreadystatechange = function () {
			console.log("state change: " + xhr.status);
			if (xhr.readyState == 4 && xhr.status == 200) {
				if (xhr.responseText == '') {
					document.getElementById("unlogined").style.display = "block";
				} else {
					document.getElementById("logined").style.display = "block";
				}
			}
		};
	</script>
  </body>
</html>
